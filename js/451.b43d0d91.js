"use strict";(self["webpackChunknovatool_claude"]=self["webpackChunknovatool_claude"]||[]).push([[451],{655:function(e,a,l){var t=l(6955),n=String;e.exports=function(e){if("Symbol"===t(e))throw new TypeError("Cannot convert a Symbol value to a string");return n(e)}},2812:function(e){var a=TypeError;e.exports=function(e,l){if(e<l)throw new a("Not enough arguments");return e}},4603:function(e,a,l){var t=l(6840),n=l(9504),s=l(655),u=l(2812),r=URLSearchParams,o=r.prototype,i=n(o.append),v=n(o["delete"]),c=n(o.forEach),h=n([].push),d=new r("a=1&a=2&b=3");d["delete"]("a",1),d["delete"]("b",void 0),d+""!=="a=2"&&t(o,"delete",(function(e){var a=arguments.length,l=a<2?void 0:arguments[1];if(a&&void 0===l)return v(this,e);var t=[];c(this,(function(e,a){h(t,{key:a,value:e})})),u(a,1);var n,r=s(e),o=s(l),d=0,f=0,p=!1,y=t.length;while(d<y)n=t[d++],p||n.key===r?(p=!0,v(this,n.key)):f++;while(f<y)n=t[f++],n.key===r&&n.value===o||i(this,n.key,n.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,a,l){var t=l(6840),n=l(9504),s=l(655),u=l(2812),r=URLSearchParams,o=r.prototype,i=n(o.getAll),v=n(o.has),c=new r("a=1");!c.has("a",2)&&c.has("a",void 0)||t(o,"has",(function(e){var a=arguments.length,l=a<2?void 0:arguments[1];if(a&&void 0===l)return v(this,e);var t=i(this,e);u(a,1);var n=s(l),r=0;while(r<t.length)if(t[r++]===n)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,a,l){var t=l(3724),n=l(9504),s=l(2106),u=URLSearchParams.prototype,r=n(u.forEach);t&&!("size"in u)&&s(u,"size",{get:function(){var e=0;return r(this,(function(){e++})),e},configurable:!0,enumerable:!0})},9451:function(e,a,l){l.r(a),l.d(a,{default:function(){return S}});l(4114),l(6573),l(8100),l(7936),l(8111),l(2489),l(7642),l(8004),l(3853),l(5876),l(2475),l(5024),l(1698),l(7467),l(4732),l(9577),l(4603),l(7566),l(8721);var t=l(6768),n=l(4232),s=l(5130),u=l(144);const r={class:"binary-viewer"},o={class:"viewer-container"},i={class:"file-section"},v={class:"file-input-container"},c={class:"import-btn"},h={class:"file-info"},d={class:"file-export-container"},f={key:0,class:"export-btn"},p={key:0,class:"format-section"},y={key:1,class:"loading-section"},k={class:"progress-bar"},b={key:2,class:"control-section"},m={class:"left-controls"},g={class:"address"},w={class:"hex-values"},L=["onClick"],C={key:0,class:"ascii-values"},x=["onClick"],E=1048576,R=16,K=10485760;var X={__name:"BinaryViewer",setup(e){const a=(0,u.KR)(null),l=(0,u.KR)(null),X=(0,u.KR)(""),M=(0,u.KR)(""),I=(0,u.KR)(!1),S=(0,u.KR)(0),U=(0,u.KR)(!0),_=(0,u.KR)(16),z=(0,u.KR)(new Set),B=(0,u.KR)(0),A=(0,u.KR)(null),W=(0,u.KR)(new Map),F=(0,u.KR)([]),T=(0,u.KR)(null),$=(0,u.KR)("binary"),V=(0,u.KR)(null),P=(0,u.KR)(!1),Q=(0,t.EW)((()=>F.value)),H=(0,t.EW)((()=>{if(!A.value&&!V.value)return 0;if("hex"===$.value&&V.value){const e=Math.floor(V.value.length/_.value),a=V.value.length%_.value>0;return e+(a?1:0)}const e=Math.floor(A.value.size/_.value),a=A.value.size%_.value>0;return e+(a?1:0)})),O=(0,t.EW)((()=>H.value*R)),j=(0,t.EW)((()=>Math.max(0,B.value)*R)),N=e=>e.toString(16).padStart(8,"0").toUpperCase(),Y=e=>void 0===e?"  ":e.toString(16).padStart(2,"0").toUpperCase(),G=e=>void 0===e?" ":e>=32&&e<=126?String.fromCharCode(e):".",q=e=>z.value.has(e),D=e=>{const a=["B","KB","MB","GB"];let l=e,t=0;while(l>=1024&&t<a.length-1)l/=1024,t++;return`${l.toFixed(1)} ${a[t]}`},J=e=>{const a=e.split(/\r?\n/).filter((e=>e.trim().length>0)),l=new Uint8Array(16777216);let t=0,n=0;for(const s of a){if(":"!==s[0])continue;const e=parseInt(s.substr(1,2),16),a=parseInt(s.substr(3,4),16),u=parseInt(s.substr(7,2),16);switch(u){case 0:for(let u=0;u<e;u++){const e=parseInt(s.substr(9+2*u,2),16),r=n+a+u;l[r]=e,t=Math.max(t,r)}break;case 1:break;case 2:n=16*parseInt(s.substr(9,4),16);break;case 4:n=65536*parseInt(s.substr(9,4),16);break}}return l.slice(0,t+1)},Z=()=>{if(!V.value)return;const e=new Blob([V.value],{type:"application/octet-stream"}),a=URL.createObjectURL(e),l=document.createElement("a");l.href=a;const t=X.value,n=t.toLowerCase().endsWith(".hex")?t.slice(0,-4):t;l.download=`${n}.bin`,document.body.appendChild(l),l.click(),setTimeout((()=>{document.body.removeChild(l),URL.revokeObjectURL(a)}),0)},ee=async(e,a)=>{const l=[];if("hex"===$.value&&V.value)for(let t=e;t<a;t++){const e=t*_.value;if(e>=V.value.length)break;const a=V.value.length-e,n=Math.min(_.value,a),s=Array.from(V.value.slice(e,e+n));l.push({index:t,offset:e,bytes:s})}else{const t=e*_.value,n=Math.min(a*_.value,A.value.size);await le(t,n);const s=Math.floor(A.value.size/_.value),u=A.value.size%_.value>0,r=s+(u?0:-1);for(let o=e;o<=r&&o<a;o++){const e=o*_.value;if(e>=A.value.size)break;const a=A.value.size-e,t=Math.min(_.value,a),n=await se(e,t);l.push({index:o,offset:e,bytes:n})}}return l},ae=e=>Math.floor(e/E)*E,le=async(e,a)=>{const l=ae(e),t=ae(a);for(let n=l;n<=t;n+=E)W.value.has(n)||await ne(n);while(te()>K){const e=W.value.keys().next().value;W.value.delete(e)}},te=()=>{let e=0;for(const a of W.value.values())e+=a.length;return e},ne=async e=>{const a=A.value.slice(e,Math.min(e+E,A.value.size)),l=await oe(a);W.value.set(e,new Uint8Array(l))},se=async(e,a)=>{const l=ae(e),t=W.value.get(l);if(!t)return new Array(a).fill(void 0);const n=e-l,s=t.slice(n,n+a);return e+s.length>A.value.size&&(s.length=A.value.size-e),Array.from(s)},ue=async e=>{const n=e.target.files[0];if(n){if(X.value=n.name,M.value=D(n.size),A.value=n,W.value.clear(),B.value=0,I.value=!0,S.value=0,P.value=n.name.toLowerCase().endsWith(".hex"),P.value){$.value="hex";try{const e=await re(n);V.value=J(e),M.value=D(V.value.length)}catch(s){console.error("인텔 헥사 파일 파싱 오류:",s)}}else $.value="binary";try{l.value=!0,await(0,t.dY)(),a.value&&(console.debug("Registering scroll event handler"),a.value.addEventListener("scroll",ve)),await ie()}catch(s){console.error("파일 로딩 오류:",s)}finally{I.value=!1}}},re=e=>new Promise(((a,l)=>{const t=new FileReader;t.onload=e=>a(e.target.result),t.onerror=l,t.readAsText(e)})),oe=e=>new Promise(((a,l)=>{const t=new FileReader;t.onload=e=>a(e.target.result),t.onerror=l,t.readAsArrayBuffer(e)})),ie=async()=>{if(!A.value)return;const e=a.value?.clientHeight||0,l=Math.ceil(e/R)+10,t=Math.max(0,B.value-5),n=Math.min(H.value,B.value+l+5),s=await ee(t,n);F.value=s},ve=()=>{if(!a.value||!A.value)return;const e=Math.floor(a.value.scrollTop/R);e!==B.value&&(B.value=e,ie())},ce=e=>{T.value=T.value===e?null:e},he=e=>T.value===e;return(0,t.wB)($,(async e=>{if(A.value&&P.value){if("hex"===e&&!V.value){I.value=!0;try{const e=await re(A.value);V.value=J(e),M.value=D(V.value.length)}catch(a){console.error("인텔 헥사 파일 파싱 오류:",a)}finally{I.value=!1}}ie()}})),(0,t.wB)(_,(e=>{document.documentElement.style.setProperty("--bytes-per-line",e.toString()),ie()}),{immediate:!0}),(0,t.sV)((()=>{console.debug("Component mounted")})),(0,t.hi)((()=>{a.value&&(console.debug("Removing scroll event handler"),a.value.removeEventListener("scroll",ve))})),(e,u)=>((0,t.uX)(),(0,t.CE)("div",r,[(0,t.Lk)("div",o,[(0,t.Lk)("div",i,[(0,t.Lk)("div",v,[(0,t.Lk)("label",c,[(0,t.Lk)("input",{type:"file",accept:"*/*",onChange:ue,class:"file-input"},null,32),u[4]||(u[4]=(0,t.Lk)("span",{class:"material-icons"},"file_open",-1)),u[5]||(u[5]=(0,t.eW)(" Open File "))]),(0,t.Lk)("span",h,(0,n.v_)(X.value?`${X.value} (${M.value})`:"Intel HEX file automatically convert"),1)]),(0,t.Lk)("div",d,[P.value&&V.value?((0,t.uX)(),(0,t.CE)("label",f,[(0,t.Lk)("input",{onClick:Z,class:"file-input"}),u[6]||(u[6]=(0,t.Lk)("span",{class:"material-icons"},"file_download",-1)),u[7]||(u[7]=(0,t.eW)(" Export BIN "))])):(0,t.Q3)("",!0)])]),P.value?((0,t.uX)(),(0,t.CE)("div",p,[(0,t.Lk)("label",null,[(0,t.bo)((0,t.Lk)("input",{type:"radio","onUpdate:modelValue":u[0]||(u[0]=e=>$.value=e),value:"binary"},null,512),[[s.XL,$.value]]),u[8]||(u[8]=(0,t.eW)(" Binary "))]),(0,t.Lk)("label",null,[(0,t.bo)((0,t.Lk)("input",{type:"radio","onUpdate:modelValue":u[1]||(u[1]=e=>$.value=e),value:"hex"},null,512),[[s.XL,$.value]]),u[9]||(u[9]=(0,t.eW)(" Intel HEX "))])])):(0,t.Q3)("",!0),I.value?((0,t.uX)(),(0,t.CE)("div",y,[(0,t.Lk)("div",k,[(0,t.Lk)("div",{class:"progress",style:(0,n.Tr)({width:`${S.value}%`})},null,4)]),(0,t.Lk)("span",null,"File loading... "+(0,n.v_)(S.value)+"%",1)])):(0,t.Q3)("",!0),l.value?((0,t.uX)(),(0,t.CE)("div",b,[(0,t.Lk)("div",m,[(0,t.Lk)("label",null,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":u[2]||(u[2]=e=>U.value=e)},null,512),[[s.lH,U.value]]),u[10]||(u[10]=(0,t.eW)(" Show ASCII "))]),(0,t.Lk)("label",null,[u[12]||(u[12]=(0,t.Lk)("span",{style:{"padding-right":"10px"}},"Bytes/Line",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":u[3]||(u[3]=e=>_.value=e)},u[11]||(u[11]=[(0,t.Lk)("option",{value:8},"8",-1),(0,t.Lk)("option",{value:16},"16",-1)]),512),[[s.u1,_.value]])])]),u[13]||(u[13]=(0,t.Lk)("div",{class:"right-controls"},null,-1))])):(0,t.Q3)("",!0),l.value?((0,t.uX)(),(0,t.CE)("div",{key:3,class:"hex-view",ref_key:"hexView",ref:a},[(0,t.Lk)("div",{class:"hex-content",style:(0,n.Tr)({height:`${O.value}px`})},[(0,t.Lk)("div",{class:"viewport",style:(0,n.Tr)({transform:`translateY(${j.value}px)`})},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(Q.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.index,class:"hex-line"},[(0,t.Lk)("div",g,(0,n.v_)(N(e.offset)),1),(0,t.Lk)("div",w,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.bytes,((a,l)=>((0,t.uX)(),(0,t.CE)("span",{key:l,class:(0,n.C4)(["hex-byte",{highlighted:q(e.offset+l),selected:he(e.offset+l)}]),onClick:a=>ce(e.offset+l)},(0,n.v_)(Y(a)),11,L)))),128))]),U.value?((0,t.uX)(),(0,t.CE)("div",C,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.bytes,((a,l)=>((0,t.uX)(),(0,t.CE)("span",{key:l,class:(0,n.C4)({highlighted:q(e.offset+l),selected:he(e.offset+l)}),onClick:a=>ce(e.offset+l)},(0,n.v_)(G(a)),11,x)))),128))])):(0,t.Q3)("",!0)])))),128))],4)],4)],512)):(0,t.Q3)("",!0)])]))}},M=l(1241);const I=(0,M.A)(X,[["__scopeId","data-v-ab27bf62"]]);var S=I}}]);
//# sourceMappingURL=451.b43d0d91.js.map